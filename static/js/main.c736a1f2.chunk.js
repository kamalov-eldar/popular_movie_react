(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{21:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(9),a=n.n(i),r=(n(21),n(5)),l=n(19),o=n.n(l),j=n(31),d=n(74),b=n(73),m=n(75),u=n(1),h=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),s=n[0],i=n[1],a=e.infoMovie;console.log("movie: ",a);var l=e.infoMovie.genres.map((function(e){return e.genre})).join(" / "),o=e.infoMovie.countries.map((function(e){return e.country})).join(" / ");return Object(u.jsxs)("div",{className:"modal-container",children:[Object(u.jsx)("img",{src:a.posterUrlPreview,alt:"",className:"modal-poster"}),Object(u.jsxs)("div",{className:"modal-movie",children:[Object(u.jsxs)("div",{className:"modal-movie-table",children:[Object(u.jsx)("span",{children:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "}),Object(u.jsx)("span",{children:a.nameRu}),Object(u.jsx)("span",{children:"\u0413\u043e\u0434 "}),Object(u.jsxs)("span",{children:[" ",a.year," "]}),Object(u.jsx)("span",{children:"\u0421\u0442\u0440\u0430\u043d\u0430 "}),Object(u.jsx)("span",{children:o}),Object(u.jsx)("span",{children:"\u0412\u0440\u0435\u043c\u044f "}),Object(u.jsxs)("span",{children:[a.filmLength," \u043c\u0438\u043d"]}),Object(u.jsx)("span",{children:"\u0416\u0430\u043d\u0440 "}),Object(u.jsx)("span",{children:l})]}),Object(u.jsxs)("div",{className:"rating-container",children:[Object(u.jsxs)("span",{className:"rating-imdb",children:[null!==a.imdbId?Object(u.jsx)("a",{href:s,target:"_blank",onClick:function(){return console.log("movie.imdbId ",a.imdbId),void(null===a.imdbId?a.imdbId=null:i("https://www.imdb.com/title/".concat(a.imdbId)))},children:Object(u.jsx)("img",{className:"rating-imdb-pic",src:"img/imdb.png",alt:""})}):Object(u.jsx)("img",{className:"rating-imdb-pic",src:"img/imdb.png",alt:""}),Object(u.jsxs)("span",{className:"rating-number",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDB",children:[" ",a.ratingImdb," "]}),Object(u.jsxs)("span",{className:"rating-count",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432",children:[" ",a.ratingImdbVoteCount]})]}),Object(u.jsxs)("span",{className:"rating-kinopoisk",children:[Object(u.jsx)("a",{href:a.webUrl,target:"_blank",children:Object(u.jsx)("img",{className:"rating-kinopoisk-pic",src:"img/kinopoisk.png",alt:""})}),Object(u.jsxs)("span",{className:"rating-number",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a",children:[a.ratingKinopoisk," "]}),Object(u.jsxs)("span",{className:"rating-count",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432",children:[" ",a.ratingKinopoiskVoteCount," "]})]}),Object(u.jsx)("span",{className:"rating-age",title:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0443",children:a.ratingAgeLimits?a.ratingAgeLimits.slice(3)+"+":"-"})]}),Object(u.jsx)("p",{className:"modal-movie-description",children:a.description})]})]})},p="8ccb0f71-adf6-4b8f-9927-980b4f08e9d5",O=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),s=n[0],i=n[1],a=Object(c.useState)(!1),l=Object(r.a)(a,2),O=l[0],x=l[1],g=Object(c.useState)([]),f=Object(r.a)(g,2),v=f[0],N=f[1],w=e.movie.genres.map((function(e){return e.genre})).join(" / "),k=e.movie.countries.map((function(e){return e.country})).join(" / "),I=e.movie;function y(){return y=Object(j.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.filmId,e.next=3,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(t),{headers:{"Content-Type":"aplication/json","X-API-KEY":p}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,N(c),i(!0);case 9:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}return Object(u.jsx)(d.a,{children:Object(u.jsxs)(d.a.Body,{children:[Object(u.jsx)("div",{className:"poster",children:Object(u.jsx)("img",{src:I.posterUrlPreview,alt:"",className:"poster-img",onClick:function(){x(!0)}})}),Object(u.jsxs)(b.a,{show:s,size:"xl",onHide:function(){return i(!1)},children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:Object(u.jsx)(b.a.Title,{children:I.nameRu})}),Object(u.jsx)(h,{infoMovie:v,children:" "})]}),Object(u.jsx)(b.a,{closeButton:!0,show:O,size:"xl",onHide:function(){return x(!1)},children:Object(u.jsxs)(b.a.Body,{children:[Object(u.jsx)(b.a.Header,{closeButton:!0,children:"  "}),Object(u.jsx)("img",{src:I.posterUrlPreview,alt:"",className:"poster-modal"})," "]})}),Object(u.jsxs)("div",{className:"movie",children:[Object(u.jsxs)("div",{className:"movie-head",children:[Object(u.jsx)("h2",{className:"movie-title",children:I.nameRu}),Object(u.jsxs)("span",{className:"b-rating-icon",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a",children:[Object(u.jsx)("svg",{viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img","aria-label":"star fill",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi-star-fill b-icon bi",children:Object(u.jsx)("g",{children:Object(u.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),I.rating]})]}),Object(u.jsxs)("div",{className:"movie-desciption",children:[Object(u.jsxs)("div",{className:"movie-table",children:[Object(u.jsxs)("span",{children:[I.nameEn," \u2022 ",I.year]}),Object(u.jsx)("span",{children:k}),Object(u.jsx)("span",{children:w}),Object(u.jsx)("span",{children:" "})]}),Object(u.jsx)(m.a,{className:"movie-about",size:"md",variant:"outline-primary",onClick:function(){return function(){return y.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})," "]})]})]})})},x=n(20),g=n.n(x),f=n(36),v=n.n(f),N="8ccb0f71-adf6-4b8f-9927-980b4f08e9d5",w=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(1),a=Object(r.a)(i,2),l=a[0],o=a[1],j=Object(c.useState)(1),d=Object(r.a)(j,2),b=d[0],m=d[1];Object(c.useEffect)((function(){h()}),[]);var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=".concat(e);v.a.get(t,{headers:{"Content-Type":"aplication/json","X-API-KEY":N}}).then((function(e){var t=e.data;o(t.pagesCount),s(t.films)}))};function p(e){h(e),m(e);var t=document.querySelector(".movie-container");window.scrollTo(0,t.scrollTop)}return Object(u.jsxs)("div",{className:"movie-container",children:[Object(u.jsx)("h1",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(u.jsx)(g.a,{totalPages:l,currentPage:b,onChange:p}),Object(u.jsx)("ul",{className:"movie-list",children:n.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(O,{movie:e})},e.filmId)}))}),Object(u.jsx)(g.a,{totalPages:l,currentPage:b,onChange:p})]})};var k=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(w,{})})};n(69);a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.c736a1f2.chunk.js.map