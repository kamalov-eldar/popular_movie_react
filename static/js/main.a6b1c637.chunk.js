(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{21:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(9),a=n.n(s),r=(n(21),n(5)),l=n(19),o=n.n(l),j=n(31),d=n(74),b=n(73),m=n(75),p=n.p+"static/media/imdb.45fa8819.png",u=n.p+"static/media/kinopoisk.58a56ecc.png",h=n(1),O=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],a=e.infoMovie;console.log("movie: ",a);var l=e.infoMovie.genres.map((function(e){return e.genre})).join(" / "),o=e.infoMovie.countries.map((function(e){return e.country})).join(" / ");return Object(h.jsxs)("div",{className:"modal-container",children:[Object(h.jsx)("img",{src:a.posterUrlPreview,alt:"",className:"modal-poster"}),Object(h.jsxs)("div",{className:"modal-movie",children:[Object(h.jsxs)("div",{className:"modal-movie-table",children:[Object(h.jsx)("span",{children:"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "}),Object(h.jsx)("span",{children:a.nameRu}),Object(h.jsx)("span",{children:"\u0413\u043e\u0434 "}),Object(h.jsxs)("span",{children:[" ",a.year," "]}),Object(h.jsx)("span",{children:"\u0421\u0442\u0440\u0430\u043d\u0430 "}),Object(h.jsx)("span",{children:o}),Object(h.jsx)("span",{children:"\u0412\u0440\u0435\u043c\u044f "}),Object(h.jsxs)("span",{children:[a.filmLength," \u043c\u0438\u043d"]}),Object(h.jsx)("span",{children:"\u0416\u0430\u043d\u0440 "}),Object(h.jsx)("span",{children:l})]}),Object(h.jsxs)("div",{className:"rating-container",children:[Object(h.jsxs)("span",{className:"rating-imdb",children:[null!==a.imdbId?Object(h.jsx)("a",{href:i,target:"_blank",onClick:function(){return console.log("movie.imdbId ",a.imdbId),void(null===a.imdbId?a.imdbId=null:s("https://www.imdb.com/title/".concat(a.imdbId)))},children:Object(h.jsx)("img",{className:"rating-imdb-pic",src:p})}):Object(h.jsx)("img",{className:"rating-imdb-pic",src:p}),Object(h.jsx)("span",{className:"rating-number",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDB",children:a.ratingImdb}),Object(h.jsx)("span",{className:"rating-count",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432",children:a.ratingImdbVoteCount})]}),Object(h.jsxs)("span",{className:"rating-kinopoisk",children:[Object(h.jsx)("a",{href:a.webUrl,target:"_blank",children:Object(h.jsx)("img",{className:"rating-kinopoisk-pic",src:u})}),Object(h.jsx)("span",{className:"rating-number",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a",children:a.ratingKinopoisk}),Object(h.jsx)("span",{className:"rating-count",title:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432",children:a.ratingKinopoiskVoteCount})]}),Object(h.jsx)("span",{className:"rating-age",title:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0443",children:a.ratingAgeLimits?a.ratingAgeLimits.slice(3)+"+":"-"})]}),Object(h.jsx)("p",{className:"modal-movie-description",children:a.description})]})]})},x="8ccb0f71-adf6-4b8f-9927-980b4f08e9d5",f=function(e){var t=Object(c.useState)(!1),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(!1),l=Object(r.a)(a,2),p=l[0],u=l[1],f=Object(c.useState)(),g=Object(r.a)(f,2),v=g[0],N=g[1],w=e.movie.genres.map((function(e){return e.genre})).join(" / "),k=e.movie.countries.map((function(e){return e.country})).join(" / "),I=e.movie;function y(){return y=Object(j.a)(o.a.mark((function e(){var t,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.filmId,e.next=3,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(t),{headers:{"Content-Type":"aplication/json","X-API-KEY":x}});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,N(c),s(!0);case 9:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}return Object(h.jsx)(d.a,{children:Object(h.jsxs)(d.a.Body,{children:[Object(h.jsx)("div",{className:"poster",children:Object(h.jsx)("img",{src:I.posterUrlPreview,alt:"",className:"poster-img",onClick:function(){u(!0)}})}),Object(h.jsxs)(b.a,{show:i,size:"xl",onHide:function(){return s(!1)},children:[Object(h.jsx)(b.a.Header,{closeButton:!0,children:Object(h.jsx)(b.a.Title,{children:I.nameRu})}),Object(h.jsx)(O,{infoMovie:v,children:" "})," "]}),Object(h.jsx)(b.a,{closeButton:!0,show:p,size:"xl",onHide:function(){return u(!1)},children:Object(h.jsxs)(b.a.Body,{children:[Object(h.jsx)(b.a.Header,{closeButton:!0,children:"  "}),Object(h.jsx)("img",{src:I.posterUrlPreview,alt:"",className:"poster-modal"})," "]})}),Object(h.jsxs)("div",{className:"movie",children:[Object(h.jsxs)("div",{className:"movie-head",children:[Object(h.jsx)("h2",{className:"movie-title",children:I.nameRu}),Object(h.jsxs)("span",{className:"b-rating-icon",title:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a",children:[Object(h.jsx)("svg",{viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img","aria-label":"star fill",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi-star-fill b-icon bi",children:Object(h.jsx)("g",{children:Object(h.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),I.rating]})]}),Object(h.jsxs)("div",{className:"movie-desciption",children:[Object(h.jsxs)("div",{className:"movie-table",children:[Object(h.jsxs)("span",{children:[I.nameEn," \u2022 ",I.year]}),Object(h.jsx)("span",{children:k}),Object(h.jsx)("span",{children:w}),Object(h.jsx)("span",{children:" "})]}),Object(h.jsx)(m.a,{className:"movie-about",size:"md",variant:"outline-primary",onClick:function(){return function(){return y.apply(this,arguments)}()},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})," "]})]})]})})},g=n(20),v=n.n(g),N=n(36),w=n.n(N),k="8ccb0f71-adf6-4b8f-9927-980b4f08e9d5",I=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(1),a=Object(r.a)(s,2),l=a[0],o=a[1],j=Object(c.useState)(1),d=Object(r.a)(j,2),b=d[0],m=d[1];Object(c.useEffect)((function(){p()}),[]);var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=".concat(e);w.a.get(t,{headers:{"Content-Type":"aplication/json","X-API-KEY":k}}).then((function(e){var t=e.data;o(t.pagesCount),i(t.films)}))};function u(e){p(e),m(e);var t=document.querySelector(".movie-container");window.scrollTo(0,t.scrollTop)}return Object(h.jsxs)("div",{className:"movie-container",children:[Object(h.jsx)("h1",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b"}),Object(h.jsx)(v.a,{totalPages:l,currentPage:b,onChange:u}),Object(h.jsx)("ul",{className:"movie-list",children:n.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(f,{movie:e})},e.filmId)}))}),Object(h.jsx)(v.a,{totalPages:l,currentPage:b,onChange:u})]})};var y=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(I,{})})};n(69);a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.a6b1c637.chunk.js.map